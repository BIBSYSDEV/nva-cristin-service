dependencies {
    implementation libs.nva.logutils
    implementation libs.google.guava
    implementation libs.aws.lambda.java.core
    implementation libs.nva.secrets
    implementation libs.nva.lambdaauthorizer
    implementation libs.aws.sdk.core
    implementation libs.aws.sdk.secrets
    implementation libs.aws.sdk.core
    implementation libs.aws.sdk.cognitoidp

    testImplementation libs.karate.core
    testImplementation libs.karate.junit5
}

tasks.named('test') {
    useJUnitPlatform {
        excludeTags 'karateTest', 'integrationTest', 'createTestUsers', 'deleteTestUsers'
    }
    failFast = true
    testLogging {
        events 'skipped', 'passed', 'failed'
    }
    finalizedBy jacocoTestReport
}

sourceSets {
    test {
        resources {
            srcDir file('src/test/java')
            exclude '**/*.java'
        }
    }
}

